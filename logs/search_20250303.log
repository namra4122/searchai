2025-03-03 17:17:47,106 - root - INFO - Logging initialized. Log file: /Users/namra4122/Developer/MarketAgent/searchai/logs/search_20250303.log
2025-03-03 17:17:47,106 - searchai.cli.interface - INFO - ---------- searchai/cli/interface.py ----------
2025-03-03 17:17:47,107 - searchai.cli.interface - INFO - Search request - Query: explain what is happening in food delivery industry, Format: pdf
2025-03-03 17:17:48,505 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-03-03 17:17:48,507 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-03-03 17:17:48,697 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-03-03 17:17:48,700 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-03-03 17:17:48,872 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-03-03 17:17:48,874 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-03-03 17:17:49,001 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-03 17:17:49,009 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-03-03 17:17:49,011 - sqlalchemy.engine.Engine - INFO - [generated in 0.00243s] ('user_queries', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-03-03 17:17:49,161 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-03-03 17:17:49,164 - sqlalchemy.engine.Engine - INFO - [cached since 0.1552s ago] ('search_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-03-03 17:17:49,206 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-03-03 17:17:49,210 - sqlalchemy.engine.Engine - INFO - [cached since 0.2011s ago] ('generated_documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-03-03 17:17:49,255 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-03-03 17:17:49,257 - sqlalchemy.engine.Engine - INFO - [generated in 0.00237s] ('outputformat', 'pg_catalog')
2025-03-03 17:17:49,352 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-03-03 17:17:49,396 - searchai.db.db_handler - INFO - Verifying database tables...
2025-03-03 17:17:49,397 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-03 17:17:49,400 - sqlalchemy.engine.Engine - INFO - 
                SELECT table_name 
                FROM information_schema.tables 
                WHERE table_schema = 'public'
            
2025-03-03 17:17:49,401 - sqlalchemy.engine.Engine - INFO - [generated in 0.00195s] ()
2025-03-03 17:17:49,551 - searchai.db.db_handler - INFO - Found tables: ['search_queries', 'user_queries', 'search_results', 'generated_documents']
2025-03-03 17:17:49,552 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-03-03 17:17:49,601 - searchai.db.db_handler - INFO - Successfully verified tables: ['search_queries', 'user_queries', 'search_results', 'generated_documents']
2025-03-03 17:17:49,602 - searchai.db.db_handler - INFO - Database initialized
2025-03-03 17:17:49,606 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-03 17:17:49,610 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_queries (id, query_text, output_format, status) VALUES ($1::VARCHAR, $2::VARCHAR, $3::outputformat, $4::VARCHAR) RETURNING user_queries.created_at
2025-03-03 17:17:49,611 - sqlalchemy.engine.Engine - INFO - [generated in 0.00130s] ('4c6acc68-67cc-40f2-a090-3f6841726fa2', 'explain what is happening in food delivery industry', 'MARKDOWN', 'pending')
2025-03-03 17:17:50,040 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-03-03 17:17:50,087 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-03 17:17:50,091 - sqlalchemy.engine.Engine - INFO - SELECT user_queries.id, user_queries.query_text, user_queries.created_at, user_queries.output_format, user_queries.status 
FROM user_queries 
WHERE user_queries.id = $1::VARCHAR
2025-03-03 17:17:50,092 - sqlalchemy.engine.Engine - INFO - [generated in 0.00146s] ('4c6acc68-67cc-40f2-a090-3f6841726fa2',)
2025-03-03 17:17:50,218 - searchai.db.db_handler - INFO - Logged user query: 4c6acc68-67cc-40f2-a090-3f6841726fa2
2025-03-03 17:17:50,219 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-03-03 17:17:50,267 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-03 17:17:50,271 - sqlalchemy.engine.Engine - INFO - UPDATE user_queries SET status=$1::VARCHAR WHERE user_queries.id = $2::VARCHAR
2025-03-03 17:17:50,273 - sqlalchemy.engine.Engine - INFO - [generated in 0.00202s] ('processing', '4c6acc68-67cc-40f2-a090-3f6841726fa2')
2025-03-03 17:17:50,420 - searchai.db.db_handler - INFO - Updated query 4c6acc68-67cc-40f2-a090-3f6841726fa2 status to processing
2025-03-03 17:17:50,421 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-03-03 17:17:50,464 - searchai.search.crew_search - INFO - Starting web search for query: explain what is happening in food delivery industry
2025-03-03 17:17:50,493 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-1.5-pro-latest; provider = gemini
2025-03-03 17:18:02,446 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro-latest:generateContent?key=AIzaSyCVNVAhh_SaSNaS5wKLu1kUcwS703rWqAU "HTTP/1.1 200 OK"
2025-03-03 17:18:02,453 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-03-03 17:18:04,212 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-1.5-pro-latest; provider = gemini
2025-03-03 17:18:22,269 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro-latest:generateContent?key=AIzaSyCVNVAhh_SaSNaS5wKLu1kUcwS703rWqAU "HTTP/1.1 200 OK"
2025-03-03 17:18:22,275 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-03-03 17:18:22,425 - searchai.search.crew_search - INFO - Search completed in 31.96 seconds. Found 9 results.
2025-03-03 17:18:22,426 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-03 17:18:22,427 - sqlalchemy.engine.Engine - INFO - INSERT INTO search_results (id, query_id, source_url, title, snippet) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR), ($6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR), ($11::VARCHAR, $12::VARCHAR, $13::VARC ... 419 characters truncated ... AR, $43::VARCHAR, $44::VARCHAR, $45::VARCHAR) RETURNING search_results.created_at, search_results.id
2025-03-03 17:18:22,427 - sqlalchemy.engine.Engine - INFO - [generated in 0.00010s (insertmanyvalues) 1/1 (ordered)] ('8df719c5-54c2-416f-8870-b4179e3b0125', '4c6acc68-67cc-40f2-a090-3f6841726fa2', 'https://www.deliverect.com/en/blog/online-food-delivery/state-of-the-food-delivery-industry-us-2024', '2024 U.S. Food Delivery Market: Growth, Trends, and ... - Deliverect', None, '0179aca9-c7b9-4d2a-a70c-bb246f13b8b5', '4c6acc68-67cc-40f2-a090-3f6841726fa2', 'https://www.routific.com/blog/food-delivery-trends', 'Top Food Delivery Trends And Statistics For 2024 - Routific', None, '38e68089-9615-4128-ae9e-fa9967875196', '4c6acc68-67cc-40f2-a090-3f6841726fa2', 'https://www.restroworks.com/blog/the-evolution-of-delivery-apps-and-their-impact-on-restaurants/', 'The Evolution of Delivery Apps and Their Impact on Restaurants', None, '215b786c-a8f0-4c1c-925e-f6e5d14ebf76', '4c6acc68-67cc-40f2-a090-3f6841726fa2', 'https://merchants.doordash.com/en-us/blog/food-delivery-statistics', '50+ Food and Alcohol Delivery Statistics and Trends for 2024', None, '90014436-b351-4d8b-b0d3-912364742a05', '4c6acc68-67cc-40f2-a090-3f6841726fa2', 'https://interstatecourier.net/the-rise-of-food-delivery-services-a-revolution-in-convenience/', 'The Rise Of Food Delivery Services: A Revolution In Convenience', None, 'dde6162c-34b3-4f13-9fd0-aa757e9202b2', '4c6acc68-67cc-40f2-a090-3f6841726fa2', 'https://get.grubhub.com/blog/trends-in-food-delivery/', '5 Trends in food delivery | Grubhub for Restaurants', None, '16c66a0b-5cc7-4efa-b5bd-3b217095b011', '4c6acc68-67cc-40f2-a090-3f6841726fa2', 'https://datadreamers.com/why-are-food-delivery-apps-struggling/', 'Why are food delivery apps struggling? - Datadreamers', None, '2ee34ac8-667c-4ef7-8905-9a28c94d1d93', '4c6acc68-67cc-40f2-a090-3f6841726fa2', 'https://www.qsrmagazine.com/story/how-technology-is-reshaping-the-future-of-food-delivery/', 'How Technology is Reshaping the Future of Food Delivery', None, 'd79ae62c-705f-496f-a9e3-d9e827a8d3a7', '4c6acc68-67cc-40f2-a090-3f6841726fa2', 'https://dashmote.com/articles/is-the-us-leading-the-way-in-advanced-food-delivery-trends', 'Is the U.S. leading the way in advanced Food Delivery trends?', None)
2025-03-03 17:18:22,559 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-03-03 17:18:22,600 - searchai.db.db_handler - INFO - Stored 9 search results for query 4c6acc68-67cc-40f2-a090-3f6841726fa2
2025-03-03 17:18:22,601 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-03 17:18:22,603 - sqlalchemy.engine.Engine - INFO - UPDATE user_queries SET status=$1::VARCHAR WHERE user_queries.id = $2::VARCHAR
2025-03-03 17:18:22,604 - sqlalchemy.engine.Engine - INFO - [cached since 32.33s ago] ('completed', '4c6acc68-67cc-40f2-a090-3f6841726fa2')
2025-03-03 17:18:22,685 - searchai.db.db_handler - INFO - Updated query 4c6acc68-67cc-40f2-a090-3f6841726fa2 status to completed
2025-03-03 17:18:22,686 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-03-03 17:18:27,949 - searchai.reasoning.gemini_llm - INFO - Generating content for query: explain what is happening in food delivery industry
2025-03-03 17:18:36,678 - searchai.reasoning.gemini_llm - INFO - Content generation completed in 8.73 seconds
2025-03-03 17:18:36,682 - searchai.document_gen.pdf_gen - INFO - Generating PDF document
2025-03-03 17:18:36,745 - searchai.document_gen.pdf_gen - WARNING - Failed to generate PDF via markdown/pdfkit: No wkhtmltopdf executable found: "b''"
If this file exists please check that this process can read it or you can pass path to it manually in method call, check README. Otherwise please install wkhtmltopdf - https://github.com/JazzCore/python-pdfkit/wiki/Installing-wkhtmltopdf
2025-03-03 17:18:36,746 - searchai.document_gen.pdf_gen - INFO - Falling back to ReportLab for PDF generation
2025-03-03 17:18:36,756 - searchai.document_gen.pdf_gen - INFO - PDF document generated via ReportLab: /Users/namra4122/Developer/MarketAgent/searchai/generated_output/explain_what_is_happening_in_f_20250303_171836.pdf
